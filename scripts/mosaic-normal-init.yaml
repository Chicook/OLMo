run_name: olmo-small-adamw-trunc-normal-init
image: mosaicml/pytorch:2.0.1_cu118-python3.10-ubuntu20.04
# cluster: r12z3
gpu_num: 8
# gpu_type: h100_80gb
gpu_type: a100_40gb
integrations:
  - integration_type: git_repo
    git_repo: allenai/LLM
    git_branch: shanea/run-normal-init
    pip_install: -e .[all]
    ssh_clone: true
command: |-
  cd LLM
  torchrun \
    --nnodes $NUM_NODES \
    --node_rank $NODE_RANK \
    --nproc_per_node 8 \
    scripts/train.py configs/v1-mix-small-mcli.yaml \
    --run_name=v1-mix-small-find-failure-cause \
    --wandb=null \
    --model.init_std=0.006 \
    --data.num_workers=16
